var an=Object.defineProperty;var ln=(n,e,t)=>e in n?an(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var oe=(n,e,t)=>(ln(n,typeof e!="symbol"?e+"":e,t),t);import{c as cn,E as un,o as Me,S as hn,m as Et,V as xt,u as At,i as tt,d as Ve,f as Le,e as nt}from"./FeedbackUtil.73e0ad45.js";import{h as re,b4 as Tt,Z as fn,w as ae,b5 as dn,l as he,q as l,aw as pn,r as P,c as _,aN as Rt,aY as mn,b6 as st,aF as vn,A as gn,G as it,H as rt,a8 as St,b7 as yn,t as Ot,a7 as Bt,aC as Nt,af as It,b8 as bn,aa as kn,ab as xe,ac as Cn,a1 as Se,a2 as ot,av as wn,a3 as _n,ax as En,b9 as xn,aA as An,aB as Tn,ba as Rn,$ as Ye,aD as Sn,aE as On,a4 as Bn,aG as Nn,aJ as In,bb as Vn,z as ue,bc as Pn,aK as Ln,B as be,C as at,aM as Dn,aj as Fn,a0 as le,an as ce,ak as Ke,F as fe,au as lt,s as F,j as De,k as Vt,f as Mn,p as Un,Y as Pt,bd as Hn,R as Lt,be as Dt,T as je,bf as Ft,bg as ke,M as Je,u as ct,bh as Kn,U as qn,bi as Ae,n as Ue,_ as zn,J as ut,K as He,L as ht,Q as de,O as Y,V as $n,bj as ft,P as Wn,bk as Gn,ao as Yn,N as jn}from"./index.bcc4fdcc.js";import{i as Mt,j as Ut,h as Pe,V as Ht}from"./VTextField.909c0973.js";const X=Object.create(null);X.open="0";X.close="1";X.ping="2";X.pong="3";X.message="4";X.upgrade="5";X.noop="6";const Oe=Object.create(null);Object.keys(X).forEach(n=>{Oe[X[n]]=n});const Jn={type:"error",data:"parser error"},Qn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Xn=typeof ArrayBuffer=="function",Zn=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Kt=({type:n,data:e},t,s)=>Qn&&e instanceof Blob?t?s(e):dt(e,s):Xn&&(e instanceof ArrayBuffer||Zn(e))?t?s(e):dt(new Blob([e]),s):s(X[n]+(e||"")),dt=(n,e)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];e("b"+(s||""))},t.readAsDataURL(n)},pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<pt.length;n++)ye[pt.charCodeAt(n)]=n;const es=n=>{let e=n.length*.75,t=n.length,s,i=0,r,o,c,a;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const w=new ArrayBuffer(e),p=new Uint8Array(w);for(s=0;s<t;s+=4)r=ye[n.charCodeAt(s)],o=ye[n.charCodeAt(s+1)],c=ye[n.charCodeAt(s+2)],a=ye[n.charCodeAt(s+3)],p[i++]=r<<2|o>>4,p[i++]=(o&15)<<4|c>>2,p[i++]=(c&3)<<6|a&63;return w},ts=typeof ArrayBuffer=="function",qt=(n,e)=>{if(typeof n!="string")return{type:"message",data:zt(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:ns(n.substring(1),e)}:Oe[t]?n.length>1?{type:Oe[t],data:n.substring(1)}:{type:Oe[t]}:Jn},ns=(n,e)=>{if(ts){const t=es(n);return zt(t,e)}else return{base64:!0,data:n}},zt=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},$t=String.fromCharCode(30),ss=(n,e)=>{const t=n.length,s=new Array(t);let i=0;n.forEach((r,o)=>{Kt(r,!1,c=>{s[o]=c,++i===t&&e(s.join($t))})})},is=(n,e)=>{const t=n.split($t),s=[];for(let i=0;i<t.length;i++){const r=qt(t[i],e);if(s.push(r),r.type==="error")break}return s},Wt=4;function I(n){if(n)return rs(n)}function rs(n){for(var e in I.prototype)n[e]=I.prototype[e];return n}I.prototype.on=I.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};I.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};I.prototype.off=I.prototype.removeListener=I.prototype.removeAllListeners=I.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,i=0;i<t.length;i++)if(s=t[i],s===e||s.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};I.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,i=t.length;s<i;++s)t[s].apply(this,e)}return this};I.prototype.emitReserved=I.prototype.emit;I.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};I.prototype.hasListeners=function(n){return!!this.listeners(n).length};const G=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Gt(n,...e){return e.reduce((t,s)=>(n.hasOwnProperty(s)&&(t[s]=n[s]),t),{})}const os=G.setTimeout,as=G.clearTimeout;function Fe(n,e){e.useNativeTimers?(n.setTimeoutFn=os.bind(G),n.clearTimeoutFn=as.bind(G)):(n.setTimeoutFn=G.setTimeout.bind(G),n.clearTimeoutFn=G.clearTimeout.bind(G))}const ls=1.33;function cs(n){return typeof n=="string"?us(n):Math.ceil((n.byteLength||n.size)*ls)}function us(n){let e=0,t=0;for(let s=0,i=n.length;s<i;s++)e=n.charCodeAt(s),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(s++,t+=4);return t}class hs extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class Yt extends I{constructor(e){super(),this.writable=!1,Fe(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,s){return super.emitReserved("error",new hs(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=qt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const jt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qe=64,fs={};let mt=0,Te=0,vt;function gt(n){let e="";do e=jt[n%qe]+e,n=Math.floor(n/qe);while(n>0);return e}function Jt(){const n=gt(+new Date);return n!==vt?(mt=0,vt=n):n+"."+gt(mt++)}for(;Te<qe;Te++)fs[jt[Te]]=Te;function Qt(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function ds(n){let e={},t=n.split("&");for(let s=0,i=t.length;s<i;s++){let r=t[s].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}let Xt=!1;try{Xt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ps=Xt;function Zt(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ps))return new XMLHttpRequest}catch{}if(!e)try{return new G[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ms(){}const vs=function(){return new Zt({xdomain:!1}).responseType!=null}();class gs extends Yt{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let i=location.port;i||(i=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==s}const t=e&&e.forceBase64;this.supportsBinary=vs&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};is(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ss(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let s="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Jt()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port);const i=Qt(e),r=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Q(this.uri(),e)}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=e}}class Q extends I{constructor(e,t){super(),Fe(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=Gt(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Zt(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Q.requestsCount++,Q.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ms,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Q.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Q.requestsCount=0;Q.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",yt);else if(typeof addEventListener=="function"){const n="onpagehide"in G?"pagehide":"unload";addEventListener(n,yt,!1)}}function yt(){for(let n in Q.requests)Q.requests.hasOwnProperty(n)&&Q.requests[n].abort()}const en=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),Re=G.WebSocket||G.MozWebSocket,bt=!0,ys="arraybuffer",kt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bs extends Yt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,s=kt?{}:Gt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=bt&&!kt?t?new Re(e,t):new Re(e):new Re(e,t,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||ys,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],i=t===e.length-1;Kt(s,this.supportsBinary,r=>{const o={};try{bt&&this.ws.send(r)}catch{}i&&en(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let s="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Jt()),this.supportsBinary||(e.b64=1);const i=Qt(e),r=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(i.length?"?"+i:"")}check(){return!!Re}}const ks={websocket:bs,polling:gs},Cs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ws=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ze(n){const e=n,t=n.indexOf("["),s=n.indexOf("]");t!=-1&&s!=-1&&(n=n.substring(0,t)+n.substring(t,s).replace(/:/g,";")+n.substring(s,n.length));let i=Cs.exec(n||""),r={},o=14;for(;o--;)r[ws[o]]=i[o]||"";return t!=-1&&s!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=_s(r,r.path),r.queryKey=Es(r,r.query),r}function _s(n,e){const t=/\/{2,9}/g,s=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Es(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,r){i&&(t[i]=r)}),t}class ie extends I{constructor(e,t={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=ze(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=ze(t.host).host),Fe(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ds(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Wt,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ks[e](s)}open(){let e;if(this.opts.rememberUpgrade&&ie.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),s=!1;ie.priorWebsocketSuccess=!1;const i=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",u=>{if(!s)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ie.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function r(){s||(s=!0,p(),t.close(),t=null)}const o=u=>{const y=new Error("probe error: "+u);y.transport=t.name,r(),this.emitReserved("upgradeError",y)};function c(){o("transport closed")}function a(){o("socket closed")}function w(u){t&&u.name!==t.name&&r()}const p=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",c),this.off("close",a),this.off("upgrading",w)};t.once("open",i),t.once("error",o),t.once("close",c),this.once("close",a),this.once("upgrading",w),t.open()}onOpen(){if(this.readyState="open",ie.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(t+=cs(i)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(e,t,s){return this.sendPacket("message",e,t,s),this}send(e,t,s){return this.sendPacket("message",e,t,s),this}sendPacket(e,t,s,i){if(typeof t=="function"&&(i=t,t=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:e,data:t,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}onError(e){ie.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let s=0;const i=e.length;for(;s<i;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}ie.protocol=Wt;function xs(n,e="",t){let s=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),s=ze(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+e,s.href=s.protocol+"://"+r+(t&&t.port===s.port?"":":"+s.port),s}const As=typeof ArrayBuffer=="function",Ts=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,tn=Object.prototype.toString,Rs=typeof Blob=="function"||typeof Blob<"u"&&tn.call(Blob)==="[object BlobConstructor]",Ss=typeof File=="function"||typeof File<"u"&&tn.call(File)==="[object FileConstructor]";function Qe(n){return As&&(n instanceof ArrayBuffer||Ts(n))||Rs&&n instanceof Blob||Ss&&n instanceof File}function Be(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,s=n.length;t<s;t++)if(Be(n[t]))return!0;return!1}if(Qe(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Be(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Be(n[t]))return!0;return!1}function Os(n){const e=[],t=n.data,s=n;return s.data=$e(t,e),s.attachments=e.length,{packet:s,buffers:e}}function $e(n,e){if(!n)return n;if(Qe(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let s=0;s<n.length;s++)t[s]=$e(n[s],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=$e(n[s],e));return t}return n}function Bs(n,e){return n.data=We(n.data,e),delete n.attachments,n}function We(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=We(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=We(n[t],e));return n}const Ns=5;var k;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(k||(k={}));class Is{constructor(e){this.replacer=e}encode(e){return(e.type===k.EVENT||e.type===k.ACK)&&Be(e)?this.encodeAsBinary({type:e.type===k.EVENT?k.BINARY_EVENT:k.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===k.BINARY_EVENT||e.type===k.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Os(e),s=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(s),i}}class Xe extends I{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===k.BINARY_EVENT;s||t.type===k.BINARY_ACK?(t.type=s?k.EVENT:k.ACK,this.reconstructor=new Vs(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Qe(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(k[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===k.BINARY_EVENT||s.type===k.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(r,t)}else s.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const r=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}s.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(Xe.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case k.CONNECT:return typeof t=="object";case k.DISCONNECT:return t===void 0;case k.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case k.EVENT:case k.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case k.ACK:case k.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vs{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Bs(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ps=Object.freeze(Object.defineProperty({__proto__:null,protocol:Ns,get PacketType(){return k},Encoder:Is,Decoder:Xe},Symbol.toStringTag,{value:"Module"}));function j(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Ls=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class nn extends I{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[j(e,"open",this.onopen.bind(this)),j(e,"packet",this.onpacket.bind(this)),j(e,"error",this.onerror.bind(this)),j(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ls.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:k.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,c=t.pop();this._registerAckCallback(o,c),s.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...o])}}emitWithAck(e,...t){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,r)=>{t.push((o,c)=>s?o?r(o):i(c):i(o)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...r)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:k.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case k.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case k.EVENT:case k.BINARY_EVENT:this.onevent(e);break;case k.ACK:case k.BINARY_ACK:this.onack(e);break;case k.DISCONNECT:this.ondisconnect();break;case k.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...i){s||(s=!0,t.packet({type:k.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:k.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function pe(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}pe.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};pe.prototype.reset=function(){this.attempts=0};pe.prototype.setMin=function(n){this.ms=n};pe.prototype.setMax=function(n){this.max=n};pe.prototype.setJitter=function(n){this.jitter=n};class Ge extends I{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Fe(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new pe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Ps;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ie(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=j(t,"open",function(){s.onopen(),e&&e()}),r=j(t,"error",o=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",o),e?e(o):s.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const c=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(i),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(j(e,"ping",this.onping.bind(this)),j(e,"data",this.ondata.bind(this)),j(e,"error",this.onerror.bind(this)),j(e,"close",this.onclose.bind(this)),j(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){en(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new nn(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ge={};function Ne(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=xs(n,e.path||"/socket.io"),s=t.source,i=t.id,r=t.path,o=ge[i]&&r in ge[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let a;return c?a=new Ge(s,e):(ge[i]||(ge[i]=new Ge(s,e)),a=ge[i]),t.query&&!e.query&&(e.query=t.queryKey),a.socket(t.path,e)}Object.assign(Ne,{Manager:Ge,Socket:nn,io:Ne,connect:Ne});var D=(n=>(n.ERROR="error",n.DEBUG="debug",n.WARNING="warn",n.INFO="info",n.STATE_SWITCH="state",n))(D||{});const Ds=new cn,Fs={type:"object",required:["type","logger","func","msg","time"],properties:{type:{type:"string",enum:Object.values(D)},logger:{type:"string",maxLength:20},func:{type:"string",maxLength:20},msg:{type:"string"},time:{title:"Time",type:"array",items:{title:"Items",type:"integer",examples:[2023],minItems:9,maxItems:9}}}};function Ct(n){if(!Ds.validate(Fs,n))return!1;var t=n.time,s=new Date(t[0],t[1],t[2],t[3],t[4],t[5]);return{...n,time:s}}var Ie=(n=>(n[n.CONNECTED=0]="CONNECTED",n[n.RECONNECTING=1]="RECONNECTING",n))(Ie||{});class Ms{constructor(){oe(this,"logCB");oe(this,"resetCB");oe(this,"statusCB");oe(this,"invalidLogCB");oe(this,"errorCB");oe(this,"socket")}setup(e,t,s,i,r){this.logCB=e,this.resetCB=t,this.statusCB=s,this.invalidLogCB=i,this.errorCB=r,this.socket=Ne(un.logs,{transports:["websocket"],reconnectionDelay:1e3}),this.socket.on("connect",this.onConnect.bind(this)),this.socket.on("disconnect",this.onDisconnect.bind(this)),this.socket.on("connect_error",this.onError.bind(this)),this.socket.on("inital",this.onDataInital.bind(this)),this.socket.on("log",this.onDataLog.bind(this))}onConnect(){this.statusCB(0)}onDisconnect(){this.statusCB(1)}onError(){this.errorCB(),this.statusCB(1)}onDataInital(e){if(this.resetCB(),!Array.isArray(e)){this.invalidLogCB();return}var t=e.map(Ct);if(t.some(s=>s===!1)){this.invalidLogCB();return}t.forEach(this.logCB)}onDataLog(e){var t=Ct(e);if(t==!1){this.invalidLogCB();return}this.logCB(t)}end(){this.socket.close()}}const Us=re()({name:"VVirtualScrollItem",props:{dynamicHeight:Boolean},emits:{"update:height":n=>!0},setup(n,e){let{emit:t,slots:s}=e;const{resizeRef:i,contentRect:r}=Tt();fn(()=>n.dynamicHeight,()=>{ae(()=>{var c;return(c=r.value)==null?void 0:c.height},c=>{c!=null&&t("update:height",c)})});function o(){n.dynamicHeight&&r.value&&t("update:height",r.value.height)}dn(o),he(()=>{var c;return l("div",{ref:n.dynamicHeight?i:void 0,class:"v-virtual-scroll__item"},[(c=s.default)==null?void 0:c.call(s)])})}}),wt=-1,_t=1,Hs=re()({name:"VVirtualScroll",props:{items:{type:Array,default:()=>[]},itemHeight:[Number,String],visibleItems:[Number,String],...pn()},setup(n,e){let{slots:t}=e;const s=P(0),i=P(n.itemHeight),r=_({get:()=>{var g;return parseInt((g=i.value)!=null?g:0,10)},set(g){i.value=g}}),o=P(),{resizeRef:c,contentRect:a}=Tt();Rt(()=>{c.value=o.value});const w=mn(),p=new Map;let u=st(n.items.length).map(()=>r.value);const y=_(()=>{var g,m;return n.visibleItems?parseInt(n.visibleItems,10):Math.max(12,Math.ceil(((m=(g=a.value)==null?void 0:g.height)!=null?m:w.height.value)/r.value*1.7+1))});function x(g,m){r.value=Math.max(r.value,m),u[g]=m,p.set(n.items[g],m)}function C(g){return u.slice(0,g).reduce((m,h)=>m+(h||r.value),0)}function R(g){let m=0,h=n.items.length;for(;m<=h;){const v=m+Math.floor((h-m)/2),A=C(v);if(A===g)return v;A<g?m=v+1:A>g&&(h=v-1)}return m}let d=0;function V(){if(!o.value||!a.value)return;const g=a.value.height,m=o.value.scrollTop,h=m<d?wt:_t,v=R(m+g/2),A=Math.round(y.value/3);h===wt&&v<=s.value+A*2-1?s.value=rt(v-A,0,n.items.length):h===_t&&v>=s.value+A*2-1&&(s.value=rt(v-A,0,n.items.length-y.value)),d=o.value.scrollTop}function H(g){if(!o.value)return;const m=C(g);o.value.scrollTop=m}const b=_(()=>Math.min(n.items.length,s.value+y.value)),M=_(()=>n.items.slice(s.value,b.value)),z=_(()=>C(s.value)),O=_(()=>C(n.items.length)-C(b.value)),{dimensionStyles:S}=vn(n);return gn(()=>{r.value||(r.value=u.slice(s.value,b.value).reduce((g,m)=>g+m,0)/y.value)}),ae(()=>n.items.length,()=>{u=st(n.items.length).map(()=>r.value),p.forEach((g,m)=>{const h=n.items.indexOf(m);h===-1?p.delete(m):u[h]=g})}),he(()=>l("div",{ref:o,class:"v-virtual-scroll",onScroll:V,style:S.value},[l("div",{class:"v-virtual-scroll__container",style:{paddingTop:it(z.value),paddingBottom:it(O.value)}},[M.value.map((g,m)=>l(Us,{key:m,dynamicHeight:!n.itemHeight,"onUpdate:height":h=>x(m+s.value,h)},{default:()=>{var h;return[(h=t.default)==null?void 0:h.call(t,{item:g,index:m+s.value})]}}))])])),{scrollToIndex:H}}});function Ks(n,e){return n.$refs[e]}const qs={data(){return{status:Ie.RECONNECTING,logs:[],selectedLogTypes:[D.INFO,D.ERROR,D.WARNING,D.STATE_SWITCH]}},computed:{filteredLogs(){return this.logs.filter(n=>this.selectedLogTypes.includes(n.type))}},setup(){return{socket:new Ms,Status:Ie,LogType:D}},beforeUnmount(){this.socket.end()},mounted(){this.socket.setup(n=>{this.logs.push(n),setTimeout(()=>Ks(this,"scroller").scrollToIndex(1/0),100)},()=>{this.logs=[]},n=>{this.status=n},()=>{Me(this,"Retreived invalid log...","warning","mdi-alert-outline",1200)},()=>{this.status==Ie.RECONNECTING?Me(this,"Reconnecting failed, retrying...","error","mdi-alert-outline",1200):Me(this,"An connection-error occurred","error","mdi-alert-outline",1200)})},methods:{getFormattedTime(n){const e=t=>(t<=9?"0":"")+t.toString();return`${e(n.getHours())}:${e(n.getMinutes())}:${e(n.getSeconds())}`},getColor(n){switch(n){case D.DEBUG:return"gray";case D.ERROR:return"error";case D.WARNING:return"warning";case D.INFO:return"info";case D.STATE_SWITCH:return"primary"}},getIcon(n){switch(n){case D.DEBUG:return"mdi-bug-outline";case D.ERROR:return"mdi-alert-circle-outline";case D.WARNING:return"mdi-alert-outline";case D.INFO:return"mdi-information-outline";case D.STATE_SWITCH:return"mdi-state-machine"}}},components:{Snackbar:hn,VVirtualScroll:Hs}};const sn=Symbol.for("vuetify:v-chip-group");re()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:St},...yn({selectedClass:"v-chip--selected"}),...Ot(),...Bt(),...Nt({variant:"tonal"})},emits:{"update:modelValue":n=>!0},setup(n,e){let{slots:t}=e;const{themeClasses:s}=It(n),{isSelected:i,select:r,next:o,prev:c,selected:a}=bn(n,sn);return kn({VChip:{color:xe(n,"color"),disabled:xe(n,"disabled"),filter:xe(n,"filter"),variant:xe(n,"variant")}}),he(()=>l(n.tag,{class:["v-chip-group",{"v-chip-group--column":n.column},s.value]},{default:()=>{var w;return[(w=t.default)==null?void 0:w.call(t,{isSelected:i,select:r,next:o,prev:c,selected:a.value})]}})),{}}});const Ze=re()({name:"VChip",directives:{Ripple:Cn},props:{activeClass:String,appendAvatar:String,appendIcon:Se,closable:Boolean,closeIcon:{type:Se,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Se,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ot(),onClickOnce:ot(),...wn(),..._n(),...En(),...xn(),...An(),...Tn(),...Rn(),...Ot({tag:"span"}),...Bt(),...Nt({variant:"tonal"})},emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,e){let{attrs:t,emit:s,slots:i}=e;const{t:r}=Ye(),{borderClasses:o}=Sn(n),{colorClasses:c,colorStyles:a,variantClasses:w}=On(n),{densityClasses:p}=Bn(n),{elevationClasses:u}=Nn(n),{roundedClasses:y}=In(n),{sizeClasses:x}=Vn(n),{themeClasses:C}=It(n),R=ue(n,"modelValue"),d=Pn(n,sn,!1),V=Ln(n,t),H=_(()=>n.link!==!1&&V.isLink.value),b=_(()=>!n.disabled&&n.link!==!1&&(!!d||n.link||V.isClickable.value)),M=_(()=>({"aria-label":r(n.closeLabel),onClick(S){R.value=!1,s("click:close",S)}}));function z(S){var g;s("click",S),b.value&&((g=V.navigate)==null||g.call(V,S),d==null||d.toggle())}function O(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),z(S))}return()=>{const S=V.isLink.value?"a":n.tag,g=!!(n.appendIcon||n.appendAvatar),m=!!(g||i.append),h=!!(i.close||n.closable),v=!!(i.filter||n.filter)&&d,A=!!(n.prependIcon||n.prependAvatar),J=!!(A||i.prepend),Z=!d||d.isSelected.value;return R.value&&be(l(S,{class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":b.value,"v-chip--filter":v,"v-chip--pill":n.pill},C.value,o.value,Z?c.value:void 0,p.value,u.value,y.value,x.value,w.value,d==null?void 0:d.selectedClass.value],style:[Z?a.value:void 0],disabled:n.disabled||void 0,draggable:n.draggable,href:V.href.value,tabindex:b.value?0:void 0,onClick:z,onKeydown:b.value&&!H.value&&O},{default:()=>{var E,K;return[Dn(b.value,"v-chip"),v&&l(Fn,{key:"filter"},{default:()=>[be(l("div",{class:"v-chip__filter"},[i.filter?be(l(ce,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},null),[[at("slot"),i.filter,"default"]]):l(le,{key:"filter-icon",icon:n.filterIcon},null)]),[[Ke,d.isSelected.value]])]}),J&&l("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?l(ce,{key:"prepend-defaults",disabled:!A,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},i.prepend):l(fe,null,[n.prependIcon&&l(le,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&l(lt,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),(K=(E=i.default)==null?void 0:E.call(i,{isSelected:d==null?void 0:d.isSelected.value,selectedClass:d==null?void 0:d.selectedClass.value,select:d==null?void 0:d.select,toggle:d==null?void 0:d.toggle,value:d==null?void 0:d.value.value,disabled:n.disabled}))!=null?K:n.text,m&&l("div",{key:"append",class:"v-chip__append"},[i.append?l(ce,{key:"append-defaults",disabled:!g,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},i.append):l(fe,null,[n.appendIcon&&l(le,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&l(lt,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),h&&l("div",F({key:"close",class:"v-chip__close"},M.value),[i.close?l(ce,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},i.close):l(le,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[at("ripple"),b.value&&n.ripple,null]])}}});const rn=re()({name:"VMenu",props:{id:String,...De(Et({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:xt}}),["absolute"])},emits:{"update:modelValue":n=>!0},setup(n,e){let{slots:t}=e;const s=ue(n,"modelValue"),{scopeId:i}=At(),r=Vt(),o=_(()=>n.id||`v-menu-${r}`),c=P(),a=Mn(tt,null),w=P(0);Un(tt,{register(){++w.value},unregister(){--w.value},closeParents(){setTimeout(()=>{w.value||(s.value=!1,a==null||a.closeParents())},40)}}),ae(s,y=>{y?a==null||a.register():a==null||a.unregister()});function p(){a==null||a.closeParents()}const u=_(()=>F({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":o.value},n.activatorProps));return he(()=>{const[y]=Ve.filterProps(n);return l(Ve,F({ref:c,class:["v-menu"]},y,{modelValue:s.value,"onUpdate:modelValue":x=>s.value=x,absolute:!0,activatorProps:u.value,"onClick:outside":p},i),{activator:t.activator,default:function(){for(var x=arguments.length,C=new Array(x),R=0;R<x;R++)C[R]=arguments[R];return l(ce,{root:!0},{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t,...C)]}})}})}),Le({id:o,\u03A8openChildren:w},c)}}),on=Pt({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Se,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:St},...Hn({itemChildren:!1})},"v-select");re()({name:"VSelect",props:{...on(),...De(Mt({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Lt({transition:{component:xt}})},emits:{"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,e){let{slots:t}=e;const{t:s}=Ye(),i=P(),r=P(),o=ue(n,"menu"),c=_({get:()=>o.value,set:h=>{var v;o.value&&!h&&((v=r.value)==null?void 0:v.\u03A8openChildren)||(o.value=h)}}),{items:a,transformIn:w,transformOut:p}=Dt(n),u=ue(n,"modelValue",[],h=>w(je(h)),h=>{var A;const v=p(h);return n.multiple?v:(A=v[0])!=null?A:null}),y=Ut(),x=_(()=>u.value.map(h=>a.value.find(v=>n.valueComparator(v.value,h.value))||h)),C=_(()=>x.value.map(h=>h.props.value)),R=P(!1);let d="",V;const H=_(()=>n.hideSelected?a.value.filter(h=>!x.value.some(v=>v===h)):a.value),b=P();function M(h){n.openOnClear&&(c.value=!0)}function z(){n.hideNoData&&!a.value.length||n.readonly||(y==null?void 0:y.isReadonly.value)||(c.value=!c.value)}function O(h){var E,K,ee,U;if(n.readonly||(y==null?void 0:y.isReadonly.value))return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(h.key)&&h.preventDefault(),["Enter","ArrowDown"," "].includes(h.key)&&(c.value=!0),["Escape","Tab"].includes(h.key)&&(c.value=!1),h.key==="ArrowDown"?(E=b.value)==null||E.focus("next"):h.key==="ArrowUp"?(K=b.value)==null||K.focus("prev"):h.key==="Home"?(ee=b.value)==null||ee.focus("first"):h.key==="End"&&((U=b.value)==null||U.focus("last"));const v=1e3;function A(L){const te=L.key.length===1,$=!L.ctrlKey&&!L.metaKey&&!L.altKey;return te&&$}if(n.multiple||!A(h))return;const J=performance.now();J-V>v&&(d=""),d+=h.key.toLowerCase(),V=J;const Z=a.value.find(L=>L.title.toLowerCase().startsWith(d));Z!==void 0&&(u.value=[Z])}function S(h){if(n.multiple){const v=C.value.findIndex(A=>n.valueComparator(A,h.value));if(v===-1)u.value=[...u.value,h];else{const A=[...u.value];A.splice(v,1),u.value=A}}else u.value=[h],c.value=!1}function g(h){var v;(v=b.value)!=null&&v.$el.contains(h.relatedTarget)||(c.value=!1)}function m(h){var v;h.relatedTarget==null&&((v=i.value)==null||v.focus())}return he(()=>{const h=!!(n.chips||t.chip),v=!!(!n.hideNoData||H.value.length||t.prepend||t.append||t["no-data"]),A=u.value.length>0,[J]=Pe.filterProps(n),Z=A||!R.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return l(Pe,F({ref:i},J,{modelValue:u.value.map(E=>E.props.value).join(", "),"onUpdate:modelValue":E=>{E==null&&(u.value=[])},focused:R.value,"onUpdate:focused":E=>R.value=E,validationValue:u.externalValue,dirty:A,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length}],appendInnerIcon:n.menuIcon,readonly:!0,placeholder:Z,"onClick:clear":M,"onMousedown:control":z,onBlur:g,onKeydown:O}),{...t,default:()=>l(fe,null,[l(rn,F({ref:r,modelValue:c.value,"onUpdate:modelValue":E=>c.value=E,activator:"parent",contentClass:"v-select__content",eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition},n.menuProps),{default:()=>[v&&l(Ft,{ref:b,selected:C.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:E=>E.preventDefault(),onFocusout:m},{default:()=>{var E,K,ee,U;return[!H.value.length&&!n.hideNoData&&((K=(E=t["no-data"])==null?void 0:E.call(t))!=null?K:l(ke,{title:s(n.noDataText)},null)),(ee=t["prepend-item"])==null?void 0:ee.call(t),H.value.map((L,te)=>{var $;return t.item?($=t.item)==null?void 0:$.call(t,{item:L,index:te,props:F(L.props,{onClick:()=>S(L)})}):l(ke,F({key:te},L.props,{onClick:()=>S(L)}),{prepend:Ce=>{let{isSelected:f}=Ce;return n.multiple&&!n.hideSelected?l(Ht,{modelValue:f,ripple:!1,tabindex:"-1"},null):void 0}})}),(U=t["append-item"])==null?void 0:U.call(t)]}})]}),x.value.map((E,K)=>{var L,te;function ee($){$.stopPropagation(),$.preventDefault(),S(E)}const U={"onClick:close":ee,modelValue:!0,"onUpdate:modelValue":void 0};return l("div",{key:E.value,class:"v-select__selection"},[h?t.chip?l(ce,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:E.title}}},{default:()=>{var $;return[($=t.chip)==null?void 0:$.call(t,{item:E,index:K,props:U})]}}):l(Ze,F({key:"chip",closable:n.closableChips,size:"small",text:E.title},U),null):(te=(L=t.selection)==null?void 0:L.call(t,{item:E,index:K}))!=null?te:l("span",{class:"v-select__selection-text"},[E.title,n.multiple&&K<x.value.length-1&&l("span",{class:"v-select__selection-comma"},[Je(",")])])])})])})}),Le({menu:c,select:S},i)}});const zs=(n,e,t)=>n==null||e==null?-1:n.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),$s=Pt({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ws(n,e,t){var c,a,w;const s=[],i=(c=t==null?void 0:t.default)!=null?c:zs,r=t!=null&&t.filterKeys?je(t.filterKeys):!1,o=Object.keys((a=t==null?void 0:t.customKeyFilter)!=null?a:{}).length;if(!(n!=null&&n.length))return s;e:for(let p=0;p<n.length;p++){const u=n[p],y={},x={};let C=-1;if(e&&!(t!=null&&t.noFilter)){if(typeof u=="object"){const V=r||Object.keys(u);for(const H of V){const b=Kn(u,H,u),M=(w=t==null?void 0:t.customKeyFilter)==null?void 0:w[H];if(C=M?M(b,e,u):i(b,e,u),C!==-1&&C!==!1)M?y[H]=C:x[H]=C;else if((t==null?void 0:t.filterMode)==="every")continue e}}else C=i(u,e,u),C!==-1&&C!==!1&&(x.title=C);const R=Object.keys(x).length,d=Object.keys(y).length;if(!R&&!d||(t==null?void 0:t.filterMode)==="union"&&d!==o&&!R||(t==null?void 0:t.filterMode)==="intersection"&&(d!==o||!R))continue}s.push({index:p,matches:{...x,...y}})}return s}function Gs(n,e,t,s){const i=_(()=>typeof(t==null?void 0:t.value)!="string"&&typeof(t==null?void 0:t.value)!="number"?"":String(t.value)),r=P([]),o=P(new Map);Rt(()=>{var p;r.value=[],o.value=new Map;const a=ct(e);Ws(a,i.value,{customKeyFilter:n.customKeyFilter,default:n.customFilter,filterKeys:(p=ct(s==null?void 0:s.filterKeys))!=null?p:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}).forEach(u=>{let{index:y,matches:x}=u;const C=a[y];r.value.push(C),o.value.set(C.value,x)})});function c(a){return o.value.get(a.value)}return{filteredItems:r,filteredMatches:o,getMatches:c}}function Ys(n,e,t){if(e==null)return n;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?l(fe,null,[l("span",{class:"v-combobox__unmask"},[n.substr(0,e)]),l("span",{class:"v-combobox__mask"},[n.substr(e,t)]),l("span",{class:"v-combobox__unmask"},[n.substr(e+t)])]):n}const js=re()({name:"VCombobox",props:{delimiters:Array,...$s({filterKeys:["title"]}),...on({hideNoData:!0,returnObject:!0}),...De(Mt({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Lt({transition:!1})},emits:{"update:modelValue":n=>!0,"update:search":n=>!0,"update:menu":n=>!0},setup(n,e){var $,Ce;let{emit:t,slots:s}=e;const{t:i}=Ye(),r=P(),o=P(!1),c=P(!0),a=P(),w=ue(n,"menu"),p=_({get:()=>w.value,set:f=>{var T;w.value&&!f&&((T=a.value)==null?void 0:T.\u03A8openChildren)||(w.value=f)}}),u=P(-1);let y=!1;const x=_(()=>{var f;return(f=r.value)==null?void 0:f.color}),{items:C,transformIn:R,transformOut:d}=Dt(n),{textColorClasses:V,textColorStyles:H}=qn(x),b=ue(n,"modelValue",[],f=>R(je(f)),f=>{var N;const T=d(f);return n.multiple?T:(N=T[0])!=null?N:null}),M=Ut(),z=P(n.multiple?"":(Ce=($=b.value[0])==null?void 0:$.title)!=null?Ce:""),O=_({get:()=>z.value,set:f=>{var T;if(z.value=f,n.multiple||(b.value=[Ae(n,f)]),f&&n.multiple&&((T=n.delimiters)==null?void 0:T.length)){const N=f.split(new RegExp(`(?:${n.delimiters.join("|")})+`));N.length>1&&(N.forEach(ne=>{ne=ne.trim(),ne&&U(Ae(n,ne))}),z.value="")}f||(u.value=-1),c.value=!f}});ae(z,f=>{y?Ue(()=>y=!1):o.value&&!p.value&&(p.value=!0),t("update:search",f)}),ae(b,f=>{var T,N;n.multiple||(z.value=(N=(T=f[0])==null?void 0:T.title)!=null?N:"")});const{filteredItems:S,getMatches:g}=Gs(n,C,_(()=>c.value?void 0:O.value)),m=_(()=>b.value.map(f=>C.value.find(T=>n.valueComparator(T.value,f.value))||f)),h=_(()=>n.hideSelected?S.value.filter(f=>!m.value.some(T=>T.value===f.value)):S.value),v=_(()=>m.value.map(f=>f.props.value)),A=_(()=>m.value[u.value]),J=P();function Z(f){y=!0,n.openOnClear&&(p.value=!0)}function E(){n.hideNoData&&!C.value.length||n.readonly||(M==null?void 0:M.isReadonly.value)||(p.value=!0)}function K(f){var ne,B;if(n.readonly||(M==null?void 0:M.isReadonly.value))return;const T=r.value.selectionStart,N=v.value.length;if((u.value>-1||["Enter","ArrowDown","ArrowUp"].includes(f.key))&&f.preventDefault(),["Enter","ArrowDown"].includes(f.key)&&(p.value=!0),["Escape"].includes(f.key)&&(p.value=!1),["Enter","Escape","Tab"].includes(f.key)&&(c.value=!0),f.key==="ArrowDown"?(ne=J.value)==null||ne.focus("next"):f.key==="ArrowUp"&&((B=J.value)==null||B.focus("prev")),!!n.multiple){if(["Backspace","Delete"].includes(f.key)){if(u.value<0){f.key==="Backspace"&&!O.value&&(u.value=N-1);return}U(A.value),Ue(()=>!A.value&&(u.value=N-2))}if(f.key==="ArrowLeft"){if(u.value<0&&T>0)return;const q=u.value>-1?u.value-1:N-1;m.value[q]?u.value=q:(u.value=-1,r.value.setSelectionRange(O.value.length,O.value.length))}if(f.key==="ArrowRight"){if(u.value<0)return;const q=u.value+1;m.value[q]?u.value=q:(u.value=-1,r.value.setSelectionRange(0,0))}f.key==="Enter"&&O.value&&(U(Ae(n,O.value)),O.value="")}}function ee(){o.value&&(c.value=!0)}function U(f){if(n.multiple){const T=v.value.findIndex(N=>n.valueComparator(N,f.value));if(T===-1)b.value=[...b.value,f];else{const N=[...b.value];N.splice(T,1),b.value=N}O.value=""}else b.value=[f],z.value=f.title,Ue(()=>{p.value=!1,c.value=!0})}function L(f){o.value=!0}function te(f){var T;f.relatedTarget==null&&((T=r.value)==null||T.focus())}return ae(S,f=>{!f.length&&n.hideNoData&&(p.value=!1)}),ae(o,f=>{if(f)u.value=-1;else{if(p.value=!1,!n.multiple||!O.value)return;b.value=[...b.value,Ae(n,O.value)],O.value=""}}),he(()=>{const f=!!(n.chips||s.chip),T=!!(!n.hideNoData||h.value.length||s.prepend||s.append||s["no-data"]),N=b.value.length>0,[ne]=Pe.filterProps(n);return l(Pe,F({ref:r},ne,{modelValue:O.value,"onUpdate:modelValue":[B=>O.value=B,B=>{B==null&&(b.value=[])}],validationValue:b.externalValue,dirty:N,class:["v-combobox",{"v-combobox--active-menu":p.value,"v-combobox--chips":!!n.chips,"v-combobox--selecting-index":u.value>-1,[`v-combobox--${n.multiple?"multiple":"single"}`]:!0}],appendInnerIcon:n.items.length?n.menuIcon:void 0,readonly:n.readonly,placeholder:N?void 0:n.placeholder,"onClick:clear":Z,"onMousedown:control":E,onFocus:()=>o.value=!0,onBlur:()=>o.value=!1,onKeydown:K}),{...s,default:()=>l(fe,null,[l(rn,F({ref:a,modelValue:p.value,"onUpdate:modelValue":B=>p.value=B,activator:"parent",contentClass:"v-combobox__content",eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterLeave:ee},n.menuProps),{default:()=>[T&&l(Ft,{ref:J,selected:v.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:B=>B.preventDefault(),onFocusin:L,onFocusout:te},{default:()=>{var B,q,we,me;return[!h.value.length&&!n.hideNoData&&((q=(B=s["no-data"])==null?void 0:B.call(s))!=null?q:l(ke,{title:i(n.noDataText)},null)),(we=s["prepend-item"])==null?void 0:we.call(s),h.value.map(W=>{var ve,se;return(se=(ve=s.item)==null?void 0:ve.call(s,{item:W,props:F(W.props,{onClick:()=>U(W)})}))!=null?se:l(ke,F({key:W.value},W.props,{onClick:()=>U(W)}),{prepend:_e=>{let{isSelected:Ee}=_e;return n.multiple&&!n.hideSelected?l(Ht,{modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0},title:()=>{var _e,Ee,et;return c.value?W.title:Ys(W.title,(_e=g(W))==null?void 0:_e.title,(et=(Ee=O.value)==null?void 0:Ee.length)!=null?et:0)}})}),(me=s["append-item"])==null?void 0:me.call(s)]}})]}),m.value.map((B,q)=>{var W,ve;function we(se){se.stopPropagation(),se.preventDefault(),U(B)}const me={"onClick:close":we,modelValue:!0,"onUpdate:modelValue":void 0};return l("div",{key:B.value,class:["v-combobox__selection",q===u.value&&["v-combobox__selection--selected",V.value]],style:q===u.value?H.value:{}},[f?s.chip?l(ce,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:B.title}}},{default:()=>{var se;return[(se=s.chip)==null?void 0:se.call(s,{item:B,index:q,props:me})]}}):l(Ze,F({key:"chip",closable:n.closableChips,size:"small",text:B.title},me),null):(ve=(W=s.selection)==null?void 0:W.call(s,{item:B,index:q}))!=null?ve:l("span",{class:"v-combobox__selection-text"},[B.title,n.multiple&&q<m.value.length-1&&l("span",{class:"v-combobox__selection-comma"},[Je(",")])])])})])})}),Le({isFocused:o,isPristine:c,menu:p,search:O,selectionIndex:u,filteredItems:S,select:U},r)}});const Js=re()({name:"VTooltip",props:{id:String,text:String,...De(Et({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":n=>!0},setup(n,e){let{slots:t}=e;const s=ue(n,"modelValue"),{scopeId:i}=At(),r=Vt(),o=_(()=>n.id||`v-tooltip-${r}`),c=P(),a=_(()=>n.location.split(" ").length>1?n.location:n.location+" center"),w=_(()=>n.origin==="auto"||n.origin==="overlap"||n.origin.split(" ").length>1||n.location.split(" ").length>1?n.origin:n.origin+" center"),p=_(()=>n.transition?n.transition:s.value?"scale-transition":"fade-transition"),u=_(()=>F({"aria-describedby":o.value},n.activatorProps));return he(()=>{const[y]=Ve.filterProps(n);return l(Ve,F({ref:c,class:["v-tooltip"],id:o.value},y,{modelValue:s.value,"onUpdate:modelValue":x=>s.value=x,transition:p.value,absolute:!0,location:a.value,origin:w.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:u.value,_disableGlobalStack:!0},i),{activator:t.activator,default:function(){var d,V;for(var x=arguments.length,C=new Array(x),R=0;R<x;R++)C[R]=arguments[R];return(V=(d=t.default)==null?void 0:d.call(t,...C))!=null?V:n.text}})}),Le({},c)}}),Qs={style:{position:"relative"},class:"d-flex flex-column w-100 h-100"},Xs=de("span",{class:"mr-2",style:{"font-size":"0.8rem"}},"Reconnecting",-1),Zs=de("span",{class:"mr-2",style:{"font-size":"0.8rem"}},"Connected",-1),ei={style:{position:"relative"},class:"h-100 w-100 flex-grow-1"},ti={key:0,style:{color:"gray"},class:"w-100 h-100 d-flex justify-center align-center flex-column"},ni=de("p",{class:"text-h6"},"No logs found",-1),si=de("p",{class:"mt-5 text-h4"},"\xAF\\_(\u30C4)_/\xAF",-1),ii=[ni,si];function ri(n,e,t,s,i,r){const o=ut("Snackbar"),c=ut("v-virtual-scroll");return He(),ht(fe,null,[l(o,{ref:"snackbar"},null,512),de("div",Qs,[l(ft,null,{default:Y(()=>[be(l(nt,{style:{"white-space":"nowrap",background:"#ff000050",position:"absolute",top:"10px",right:"10px","z-index":"1"},class:"mx-auto text-error px-2"},{default:Y(()=>[Xs,l($n,{width:2,size:15,color:"primary",indeterminate:""})]),_:1},512),[[Ke,i.status==s.Status.RECONNECTING]])]),_:1}),l(ft,null,{default:Y(()=>[be(l(nt,{style:{"white-space":"nowrap",background:"#00ff0050",position:"absolute",top:"10px",right:"10px","z-index":"1"},class:"mx-auto text-success px-2"},{default:Y(()=>[Zs,l(le,{icon:"mdi-web-check"})]),_:1},512),[[Ke,i.status==s.Status.CONNECTED]])]),_:1}),de("div",ei,[l(c,{ref:"scroller",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"},items:r.filteredLogs,"item-height":"48"},{default:Y(({item:a})=>[l(ke,{title:a.msg,subtitle:`${a.logger} / ${a.func}`,color:r.getColor(a.type)},{prepend:Y(()=>[l(le,{icon:r.getIcon(a.type),class:"mr-2 ml-2"},null,8,["icon"])]),append:Y(()=>[l(Js,{text:r.getFormattedTime(a.time)},{activator:Y(({props:w})=>[l(Wn,F({icon:"mdi-magnify",size:"x-small",variant:"tonal"},w),null,16)]),_:2},1032,["text"])]),_:2},1032,["title","subtitle","color"])]),_:1},8,["items"]),r.filteredLogs.length<=0?(He(),ht("div",ti,ii)):Gn("",!0)]),l(js,{modelValue:i.selectedLogTypes,"onUpdate:modelValue":e[0]||(e[0]=a=>i.selectedLogTypes=a),items:Object.values(s.LogType),label:"Display these log-types",multiple:"","hide-details":""},{selection:Y(a=>[(He(),Yn(Ze,F({key:JSON.stringify(a.item)},a.attrs,{"model-value":a.selected,disabled:a.disabled,size:"small",color:r.getColor(a.item.value),"onClick:close":w=>a.parent.selectItem(a.item)}),{prepend:Y(()=>[l(le,{icon:r.getIcon(a.item.value)},null,8,["icon"])]),default:Y(()=>[Je(" "+jn(a.item.title),1)]),_:2},1040,["model-value","disabled","color","onClick:close"]))]),_:1},8,["modelValue","items"])])],64)}const ui=zn(qs,[["render",ri]]);export{ui as default};
