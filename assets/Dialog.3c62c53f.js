import{c as y,m as B,V as _,u as w,d as x,f as P,e as S,g as A,h as k}from"./FeedbackUtil.73e0ad45.js";import{h as T,z as N,r as R,am as I,w as E,n as L,c as F,s as O,l as j,q as d,an as U,_ as z,K as p,ao as b,O as v,ap as G,Q as M,N as C,L as K,F as Q,aq as W,P as H,M as J}from"./index.bcc4fdcc.js";const X=new y;var Y=(e=>(e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.SUCCESS=2]="SUCCESS",e))(Y||{});async function oe(e,r){try{var t=await fetch(e);if(!t.ok)throw t.statusText+" ("+t.status+")";var a=await t.json();if(!X.validate(r,a))throw"Retreived data is invalid";return a}catch(o){throw o.toString()}}const Z={data(){return{isOpen:!1,message:"",color:"",title:"",buttons:[]}},methods:{open(e,r,t,a){this.message=e,this.title=r,this.color=t,this.buttons=a,this.isOpen=!0},onButtonClicked(e){(e.closeOnAction===void 0||e.closeOnAction)&&(this.isOpen=!1),e.action!==void 0&&e.action()}}};const $=T()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...B({origin:"center center",scrollStrategy:"block",transition:{component:_},zIndex:2400})},emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:t}=r;const a=N(e,"modelValue"),{scopeId:o}=w(),n=R();function c(i){var u,f;const l=i.relatedTarget,s=i.target;if(l!==s&&((u=n.value)==null?void 0:u.contentEl)&&((f=n.value)==null?void 0:f.globalTop)&&![document,n.value.contentEl].includes(s)&&!n.value.contentEl.contains(s)){const m=[...n.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(V=>!V.hasAttribute("disabled")&&!V.matches('[tabindex="-1"]'));if(!m.length)return;const h=m[0],D=m[m.length-1];l===h?D.focus():h.focus()}}I&&E(()=>a.value&&e.retainFocus,i=>{i?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0}),E(a,async i=>{var l,s;await L(),i?(l=n.value.contentEl)==null||l.focus({preventScroll:!0}):(s=n.value.activatorEl)==null||s.focus({preventScroll:!0})});const g=F(()=>O({"aria-haspopup":"dialog","aria-expanded":String(a.value)},e.activatorProps));return j(()=>{const[i]=x.filterProps(e);return d(x,O({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}]},i,{modelValue:a.value,"onUpdate:modelValue":l=>a.value=l,"aria-modal":"true",activatorProps:g.value,role:"dialog"},o),{activator:t.activator,default:function(){for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return d(U,{root:!0},{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t,...s)]}})}})}),P({},n)}}),q={class:"text-h4 pa-2"};function ee(e,r,t,a,o,n){return p(),b($,{transition:"dialog-bottom-transition",modelValue:o.isOpen,"onUpdate:modelValue":r[0]||(r[0]=c=>o.isOpen=c),width:"auto"},{default:v(()=>[d(S,null,{default:v(()=>[d(G,{class:"text-h2",color:o.color,title:o.title},null,8,["color","title"]),d(A,null,{default:v(()=>[M("div",q,C(o.message),1)]),_:1}),d(k,{class:"justify-end"},{default:v(()=>[(p(!0),K(Q,null,W(o.buttons,c=>(p(),b(H,{variant:"text",onClick:g=>n.onButtonClicked(c)},{default:v(()=>[J(C(c.text),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ne=z(Z,[["render",ee]]);export{ne as D,Y as R,oe as l};
